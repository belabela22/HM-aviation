<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Shipments — H&M Aviation</title>
  <meta name="description" content="Browse, search, filter, and manage shipments. View details, update status, and perform admin actions." />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="stylesheet" href="./css/style.css" />
</head>
<body data-page="shipments">
  <header class="site-header">
    <nav class="nav">
      <a class="brand" href="./">
        <span class="brand-logo"><i class="fa-solid fa-plane-up"></i></span>
        <span class="brand-text">H&M Aviation</span>
      </a>
      <button class="nav-toggle" aria-label="Toggle menu"><i class="fa-solid fa-bars"></i></button>
      <ul class="nav-links">
        <li><a href="./dashboard.html"><i class="fa-solid fa-gauge"></i> Dashboard</a></li>
        <li class="active"><a href="./shipments.html"><i class="fa-solid fa-boxes-stacked"></i> Shipments</a></li>
        <li><a href="./flights.html"><i class="fa-solid fa-jet-fighter-up"></i> Flights</a></li>
        <li><a href="./tracking.html"><i class="fa-solid fa-magnifying-glass-location"></i> Tracking</a></li>
      </ul>
    </nav>
  </header>

  <main class="container">
    <div class="page-header">
      <h1 class="page-title">Shipments</h1>
      <div class="page-actions">
        <button class="btn btn-primary" id="btn-add-shipment"><i class="fa-solid fa-plus"></i> Add shipment</button>
      </div>
    </div>

    <section class="toolbar card">
      <div class="toolbar-row">
        <div class="input-group">
          <i class="fa-solid fa-magnifying-glass"></i>
          <input type="search" id="search-shipments" placeholder="Search by sender, recipient, or tracking code..." />
        </div>
        <div class="input-group">
          <i class="fa-solid fa-filter"></i>
          <select id="filter-status">
            <option value="all">All statuses</option>
            <option value="Pending">Pending</option>
            <option value="In Transit">In Transit</option>
            <option value="Delivered">Delivered</option>
          </select>
        </div>
      </div>
    </section>

    <section class="card table-card">
      <div class="table-responsive">
        <table class="table" id="table-shipments">
          <thead>
            <tr>
              <th>Sender</th>
              <th>Recipient</th>
              <th>Tracking Code</th>
              <th>Status</th>
              <th>Flight</th>
              <th></th>
            </tr>
          </thead>
          <tbody><!-- populated by JS --></tbody>
        </table>
      </div>
    </section>
  </main>

  <!-- Shipment modal -->
  <div class="modal" id="modal-shipment" aria-hidden="true">
    <div class="modal-backdrop" data-close-modal></div>
    <div class="modal-dialog">
      <header class="modal-header">
        <h3 id="shipment-modal-title">Shipment</h3>
        <button class="icon-btn" data-close-modal aria-label="Close"><i class="fa-solid fa-xmark"></i></button>
      </header>
      <div class="modal-body">
        <form id="form-shipment">
          <input type="hidden" name="id" />
          <div class="form-row">
            <label>Sender
              <input name="sender" type="text" required />
            </label>
            <label>Recipient
              <input name="recipient" type="text" required />
            </label>
          </div>
          <div class="form-row">
            <label>Origin
              <input name="origin" type="text" placeholder="e.g., LHR" required />
            </label>
            <label>Destination
              <input name="destination" type="text" placeholder="e.g., JFK" required />
            </label>
          </div>
          <div class="form-row">
            <label>Weight (kg)
              <input name="weight" type="number" step="0.1" min="0" required />
            </label>
            <label>Status
              <select name="status" required>
                <option>Pending</option>
                <option>In Transit</option>
                <option>Delivered</option>
              </select>
            </label>
          </div>
          <div class="form-row">
            <label>Tracking Code
              <div class="input-with-btn">
                <input name="code" type="text" required />
                <button type="button" class="btn btn-ghost" id="btn-generate-code"><i class="fa-solid fa-wand-magic-sparkles"></i> Generate</button>
              </div>
            </label>
            <label>Assign Flight
              <select name="flightId" id="shipment-flight-select">
                <option value="">None</option>
              </select>
            </label>
          </div>
          <div class="form-actions">
            <button type="submit" class="btn btn-primary"><i class="fa-solid fa-floppy-disk"></i> Save</button>
            <button type="button" class="btn btn-ghost" data-close-modal>Cancel</button>
          </div>
        </form>
        <div class="shipment-history">
          <h4>History</h4>
          <ul id="shipment-history-list"></ul>
        </div>
      </div>
      <footer class="modal-footer">
        <button class="btn btn-danger" id="btn-delete-shipment"><i class="fa-solid fa-trash"></i> Delete</button>
      </footer>
    </div>
  </div>

  <!-- Confirm modal -->
  <div class="modal" id="modal-confirm" aria-hidden="true">
    <div class="modal-backdrop" data-close-modal></div>
    <div class="modal-dialog">
      <header class="modal-header">
        <h3>Confirm action</h3>
        <button class="icon-btn" data-close-modal aria-label="Close"><i class="fa-solid fa-xmark"></i></button>
      </header>
      <div class="modal-body">
        <p id="confirm-message">Are you sure?</p>
      </div>
      <footer class="modal-footer">
        <button class="btn btn-danger" id="confirm-yes">Yes</button>
        <button class="btn btn-ghost" data-close-modal>No</button>
      </footer>
    </div>
  </div>

  <footer class="site-footer">
    <div class="container">
      <p>© <span id="year"></span> H&M Aviation</p>
    </div>
  </footer>

  <script type="module" src="./js/main.js"></script>
</body>
</html>
